(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{29:function(t,e,n){t.exports={contact_list:"ContactList_contact_list__CJczP",contact_item:"ContactList_contact_item__xXGrq",contact_text:"ContactList_contact_text__1N-2B",button_group:"ContactList_button_group__TSjFJ"}},35:function(t,e,n){t.exports={contact_form:"Form_contact_form__2kgVi",form_input:"Form_form_input__3p7qB"}},54:function(t,e,n){t.exports={filter_input:"Filter_filter_input__19JVD"}},63:function(t,e,n){},72:function(t,e,n){},95:function(t,e,n){"use strict";n.r(e);n(63);var c,o,a=n(0),r=n.n(a),i=n(17),u=n.n(i),b=n(15),s=n(34),j=n(6),l=n(53),O=n.n(l),f=n(7),p=n(5),d=Object(j.b)("phonebook/FETCH_CONTACTS_R"),h=Object(j.b)("phonebook/FETCH_CONTACTS_S"),m=Object(j.b)("phonebook/FETCH_CONTACTS_F"),_=Object(j.b)("phonebook/ADD_CONTACT_R"),C=Object(j.b)("phonebook/ADD_CONTACT_S"),v=Object(j.b)("phonebook/ADD_CONTACT_F"),x=Object(j.b)("phonebook/DELETE_CONTACT_R"),T=Object(j.b)("phonebook/DELETE_CONTACT_S"),g=Object(j.b)("phonebook/DELETE_CONTACT_F"),k=Object(j.b)("phonebook/TOGGLE_FAVOURITE_R"),N=Object(j.b)("phonebook/TOGGLE_FAVOURITE_S"),A=Object(j.b)("phonebook/TOGGLE_FAVOURITE_F"),E=Object(j.b)("phonebook/FILTER_CONTACT"),y=[],F="",L=!1,S=Object(j.c)(y,(c={},Object(p.a)(c,h,(function(t,e){return e.payload})),Object(p.a)(c,C,(function(t,e){e.type;var n=e.payload;return[].concat(Object(s.a)(t),[n])})),Object(p.a)(c,T,(function(t,e){e.type;var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(p.a)(c,N,(function(t,e){e.type;var n=e.payload;return t.map((function(t){return t.id===n.id?n:t}))})),c)),D=(Object(j.c)(L,(o={},Object(p.a)(o,_,(function(){return!0})),Object(p.a)(o,C,(function(){return!1})),Object(p.a)(o,v,(function(){return!1})),Object(p.a)(o,x,(function(){return!0})),Object(p.a)(o,T,(function(){return!1})),Object(p.a)(o,g,(function(){return!1})),Object(p.a)(o,k,(function(){return!0})),Object(p.a)(o,N,(function(){return!1})),Object(p.a)(o,A,(function(){return!1})),Object(p.a)(o,d,(function(){return!0})),Object(p.a)(o,h,(function(){return!1})),Object(p.a)(o,m,(function(){return!1})),o)),Object(j.c)(F,Object(p.a)({},E,(function(t,e){e.type;return e.payload})))),w=Object(f.c)({contacts:S,filter:D}),R=Object(f.c)({phonebook:w}),G=Object(j.a)({reducer:R,devTools:!0,middleware:[].concat(Object(s.a)(Object(j.d)()),[O.a])}),P=(n(72),n(20)),B=n(58),H=n(35),V=n(114),I=n(113),J=n(21),U=(n(73),n(22)),q=n.n(U);q.a.defaults.baseURL="http://localhost:4000";var z=n(2),Z=function(){var t=Object(b.c)((function(t){return t.phonebook.contacts})),e=Object(b.b)(),n=Object(a.useState)({name:"",number:"+380"}),c=Object(B.a)(n,2),o=c[0],r=c[1],i=function(t){var e=t.target,n=e.name,c=e.value;r(Object(P.a)(Object(P.a)({},o),{},Object(p.a)({},n,c.charAt(0).toUpperCase()+c.slice(1))))},u=function(n){var c,o=n.name,a=n.number,i=/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/.test(o),u=/(\+?( |-|\.)?\d{1,2}( |-|\.)?)?(\(?\d{3}\)?|\d{3})( |-|\.)?(\d{3}( |-|\.)?\d{4})/.test(a);t.some((function(t){return t.name===o}))?function(t){J.b.warn("".concat(t," is already in contacts!"),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}(o):!0!==i?J.b.error("The name can only consist of letters, apostrophes, dashes and spaces.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):!0!==u?J.b.error("The phone number must be 11-12 digits long and can contain numbers, spaces, dashes, pot-bellied brackets and can start with +",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):(e((c={name:o,number:a},function(t){var e=Object(P.a)(Object(P.a)({},c),{},{favourite:!1});t(_()),q.a.post("/contacts",e).then((function(e){var n=e.data;return t(C(n))})).catch((function(e){return t(v(e))}))})),r({name:"",number:"+380"}))};return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("form",{className:H.contact_form,noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault(),u(o)},children:[Object(z.jsx)(V.a,{placeholder:"Name",className:H.form_input,inputProps:{"aria-label":"contact name"},type:"text",onChange:i,name:"name",value:o.name,id:"name",required:!0,variant:"outlined"}),Object(z.jsx)(V.a,{placeholder:"Number",className:H.form_input,inputProps:{"aria-label":"contact number"},type:"tel",onChange:i,name:"number",value:o.number,id:"number",required:!0}),Object(z.jsx)(I.a,{variant:"contained",type:"submit",children:"Add contact"})]}),Object(z.jsx)(J.a,{})]})},M=n(54),X=function(){var t=Object(b.c)((function(t){return t.phonebook.filter})),e=Object(b.b)();return Object(z.jsx)("div",{children:Object(z.jsx)(V.a,{type:"text",placeholder:"Search contact",name:"filter",value:t,onChange:function(t){return e(E(t.target.value))},className:M.filter_input})})},$=n(29),K=n(55),Q=n.n(K),W=n(57),Y=n.n(W),tt=n(56),et=n.n(tt),nt=n(36),ct=function(){var t=Object(b.b)(),e=Object(b.c)((function(t){return t.phonebook.contacts})),n=Object(b.c)((function(t){return t.phonebook.filter}));Object(a.useEffect)((function(){t((function(t){t(d()),q.a.get("/contacts").then((function(e){var n=e.data;return t(h(n))})).catch((function(e){return t(m(e))}))}))}),[]);var c=function(){var t=n.toLowerCase();return e.filter((function(e){var n=e.name,c=e.number;return n.toLowerCase().includes(t)||c.toLowerCase().includes(t)}))},o=function(e){return t(function(t){return function(e){e(x()),q.a.delete("/contacts/".concat(t)).then((function(){return e(T(t))})).catch((function(t){return e(g(t))}))}}(e))},r=function(e){return t(function(t){var e=t.id,n=t.favourite;return function(t){t(k());var c={favourite:n};q.a.patch("/contacts/".concat(e),c).then((function(e){var n=e.data;return t(N(n))})).catch((function(e){return t(A(e))}))}}(e))};return Object(z.jsx)(z.Fragment,{children:c().length?Object(z.jsx)("ol",{className:$.contact_list,children:c().map((function(t){var e=t.name,n=t.number,c=t.id,a=t.favourite;return Object(z.jsxs)("li",{className:$.contact_item,children:[Object(z.jsxs)("p",{className:$.contact_text,children:[Object(z.jsx)("span",{children:e}),Object(z.jsx)("span",{children:n})]}),Object(z.jsxs)("div",{className:$.button_group,children:[Object(z.jsx)(I.a,{className:"delete-button",onClick:function(){return o(c)},children:Object(z.jsx)(Q.a,{color:"disabled"})}),Object(z.jsx)(I.a,{className:"favourite-button",onClick:function(){return r({id:c,favourite:!a})},children:a?Object(z.jsx)(et.a,{style:{color:nt.a[500]}}):Object(z.jsx)(Y.a,{color:"disabled"})})]})]},e)}))}):Object(z.jsx)("p",{children:"Contact list is empty"})})},ot=function(){return Object(z.jsxs)("div",{className:"container",children:[Object(z.jsx)("h1",{children:"Phonebook"}),Object(z.jsx)(Z,{className:"form"}),Object(z.jsx)("h2",{children:"Contacts"}),Object(z.jsx)(X,{}),Object(z.jsx)(ct,{})]})};n(94);u.a.render(Object(z.jsx)(b.a,{store:G,children:Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(ot,{})})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.e76be008.chunk.js.map