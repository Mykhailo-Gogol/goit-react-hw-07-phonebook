(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{121:function(t,e,n){"use strict";n.r(e);n(69);var c,o,r=n(0),a=n.n(r),i=n(17),u=n.n(i),s=n(10),b=n(35),l=n(7),j=n(19),O=n(54),d=n.n(O),f=n(55),p=n.n(f),h=n(8),_=n(6),m=Object(l.b)("phonebook/FETCH_CONTACTS_R"),C=Object(l.b)("phonebook/FETCH_CONTACTS_S"),v=Object(l.b)("phonebook/FETCH_CONTACTS_F"),x=Object(l.b)("phonebook/ADD_CONTACT_R"),g=Object(l.b)("phonebook/ADD_CONTACT_S"),T=Object(l.b)("phonebook/ADD_CONTACT_F"),k=Object(l.b)("phonebook/DELETE_CONTACT_R"),N=Object(l.b)("phonebook/DELETE_CONTACT_S"),A=Object(l.b)("phonebook/DELETE_CONTACT_F"),y=Object(l.b)("phonebook/TOGGLE_FAVOURITE_R"),E=Object(l.b)("phonebook/TOGGLE_FAVOURITE_S"),F=Object(l.b)("phonebook/TOGGLE_FAVOURITE_F"),L=Object(l.b)("phonebook/FILTER_CONTACT"),S=[],w="",D=!1,R=Object(l.c)(S,(c={},Object(_.a)(c,C,(function(t,e){return e.payload})),Object(_.a)(c,g,(function(t,e){e.type;var n=e.payload;return[].concat(Object(b.a)(t),[n])})),Object(_.a)(c,N,(function(t,e){e.type;var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(_.a)(c,E,(function(t,e){e.type;var n=e.payload;return t.map((function(t){return t.id===n.id?n:t}))})),c)),B=Object(l.c)(D,(o={},Object(_.a)(o,x,(function(){return!0})),Object(_.a)(o,g,(function(){return!1})),Object(_.a)(o,T,(function(){return!1})),Object(_.a)(o,k,(function(){return!0})),Object(_.a)(o,N,(function(){return!1})),Object(_.a)(o,A,(function(){return!1})),Object(_.a)(o,y,(function(){return!0})),Object(_.a)(o,E,(function(){return!1})),Object(_.a)(o,F,(function(){return!1})),Object(_.a)(o,m,(function(){return!0})),Object(_.a)(o,C,(function(){return!1})),Object(_.a)(o,v,(function(){return!1})),o)),G=Object(l.c)(w,Object(_.a)({},L,(function(t,e){e.type;return e.payload}))),P=Object(h.c)({contacts:R,filter:G,loading:B}),H=Object(h.c)({phonebook:P}),V={key:"react_phonebook",storage:d.a},z=Object(j.g)(V,H),I=[].concat(Object(b.a)(Object(l.d)({serializableCheck:{ignoredActions:[j.a,j.f,j.b,j.c,j.d,j.e]}})),[p.a]),J=Object(l.a)({reducer:z,middleware:I,devTools:!0}),U=Object(j.h)(J),q=n(56),Z=(n(80),n(81),n(22)),M=n(64),X=n(36),$=n(140),K=n(139),Q=n(20),W=(n(82),n(23)),Y=n.n(W);Y.a.defaults.baseURL="http://localhost:4000";var tt=n(2),et=function(){var t=Object(s.c)((function(t){return t.phonebook.contacts})),e=Object(s.b)(),n=Object(r.useState)({name:"",number:"+380"}),c=Object(M.a)(n,2),o=c[0],a=c[1],i=function(t){var e=t.target,n=e.name,c=e.value;a(Object(Z.a)(Object(Z.a)({},o),{},Object(_.a)({},n,c.charAt(0).toUpperCase()+c.slice(1))))},u=function(n){var c,o=n.name,r=n.number,i=/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/.test(o),u=/(\+?( |-|\.)?\d{1,2}( |-|\.)?)?(\(?\d{3}\)?|\d{3})( |-|\.)?(\d{3}( |-|\.)?\d{4})/.test(r);t.some((function(t){return t.name===o}))?function(t){Q.b.warn("".concat(t," is already in contacts!"),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}(o):!0!==i?Q.b.error("The name can only consist of letters, apostrophes, dashes and spaces.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):!0!==u?Q.b.error("The phone number must be 11-12 digits long and can contain numbers, spaces, dashes, pot-bellied brackets and can start with +",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):(e((c={name:o,number:r},function(t){var e=Object(Z.a)(Object(Z.a)({},c),{},{favourite:!1});t(x()),Y.a.post("/contacts",e).then((function(e){var n=e.data;return t(g(n))})).catch((function(e){return t(T(e))}))})),a({name:"",number:"+380"}))};return Object(tt.jsxs)(tt.Fragment,{children:[Object(tt.jsxs)("form",{className:X.contact_form,noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault(),u(o)},children:[Object(tt.jsx)($.a,{placeholder:"Name",className:X.form_input,inputProps:{"aria-label":"contact name"},type:"text",onChange:i,name:"name",value:o.name,id:"name",required:!0,variant:"outlined"}),Object(tt.jsx)($.a,{placeholder:"Number",className:X.form_input,inputProps:{"aria-label":"contact number"},type:"tel",onChange:i,name:"number",value:o.number,id:"number",required:!0}),Object(tt.jsx)(K.a,{variant:"contained",type:"submit",children:"Add contact"})]}),Object(tt.jsx)(Q.a,{})]})},nt=n(57),ct=function(){var t=Object(s.c)((function(t){return t.phonebook.filter})),e=Object(s.b)();return Object(tt.jsx)("div",{children:Object(tt.jsx)($.a,{type:"text",placeholder:"Search contact",name:"filter",value:t,onChange:function(t){return e(L(t.target.value))},className:nt.filter_input})})},ot=n(30),rt=n(58),at=n.n(rt),it=n(60),ut=n.n(it),st=n(59),bt=n.n(st),lt=n(37),jt=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.phonebook.contacts})),n=Object(s.c)((function(t){return t.phonebook.filter}));Object(r.useEffect)((function(){t((function(t){t(m()),Y.a.get("/contacts").then((function(e){var n=e.data;return t(C(n))})).catch((function(e){return t(v(e))}))}))}),[]);var c=function(){var t=n.toLowerCase();return e.filter((function(e){var n=e.name,c=e.number;return n.toLowerCase().includes(t)||c.toLowerCase().includes(t)}))},o=function(e){return t(function(t){return function(e){e(k()),Y.a.delete("/contacts/".concat(t)).then((function(){return e(N(t))})).catch((function(t){return e(A(t))}))}}(e))},a=function(e){return t(function(t){var e=t.id,n=t.favourite;return function(t){t(y());var c={favourite:n};Y.a.patch("/contacts/".concat(e),c).then((function(e){var n=e.data;return t(E(n))})).catch((function(e){return t(F(e))}))}}(e))};return Object(tt.jsx)(tt.Fragment,{children:c().length?Object(tt.jsx)("ol",{className:ot.contact_list,children:c().map((function(t){var e=t.name,n=t.number,c=t.id,r=t.favourite;return Object(tt.jsxs)("li",{className:ot.contact_item,children:[Object(tt.jsxs)("p",{className:ot.contact_text,children:[Object(tt.jsx)("span",{children:e}),Object(tt.jsx)("span",{children:n})]}),Object(tt.jsxs)("div",{className:ot.button_group,children:[Object(tt.jsx)(K.a,{className:"delete-button",onClick:function(){return o(c)},children:Object(tt.jsx)(at.a,{color:"disabled"})}),Object(tt.jsx)(K.a,{className:"favourite-button",onClick:function(){return a({id:c,favourite:!r})},children:r?Object(tt.jsx)(bt.a,{style:{color:lt.a[500]}}):Object(tt.jsx)(ut.a,{color:"disabled"})})]})]},e)}))}):Object(tt.jsx)("p",{children:"Contact list is empty"})})},Ot=n(61),dt=n.n(Ot),ft=n(62),pt=function(){return Object(tt.jsx)("div",{children:Object(tt.jsx)(dt.a,{type:"Circles",color:"#00BFFF",height:150,width:150,timeout:3e3,className:ft.loader})})},ht=function(){var t=Object(s.c)((function(t){return t.phonebook.loading}));return Object(tt.jsxs)("div",{className:"container",children:[t&&Object(tt.jsx)(pt,{}),Object(tt.jsxs)("div",{style:t?{filter:"blur(20px)"}:null,children:[Object(tt.jsx)("h1",{children:"Phonebook"}),Object(tt.jsx)(et,{className:"form"}),Object(tt.jsx)("h2",{children:"Contacts"}),Object(tt.jsx)(ct,{}),Object(tt.jsx)(jt,{})]})]})};n(63).a.on(),u.a.render(Object(tt.jsx)(s.a,{store:J,children:Object(tt.jsx)(q.a,{loading:null,persistor:U,children:Object(tt.jsx)(a.a.StrictMode,{children:Object(tt.jsx)(ht,{})})})}),document.getElementById("root"))},30:function(t,e,n){t.exports={contact_list:"ContactList_contact_list__CJczP",contact_item:"ContactList_contact_item__xXGrq",contact_text:"ContactList_contact_text__1N-2B",button_group:"ContactList_button_group__TSjFJ"}},36:function(t,e,n){t.exports={contact_form:"Form_contact_form__2kgVi",form_input:"Form_form_input__3p7qB"}},57:function(t,e,n){t.exports={filter_input:"Filter_filter_input__19JVD"}},62:function(t,e,n){t.exports={loader:"Loader_loader__2hZcM"}},69:function(t,e,n){},80:function(t,e,n){}},[[121,1,2]]]);
//# sourceMappingURL=main.6e2abead.chunk.js.map